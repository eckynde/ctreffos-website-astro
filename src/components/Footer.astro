---
import { CalendarIcon, RssIcon } from "lucide-react";
import GithubIcon from "../components/GithubIcon.astro";
import MastodonIcon from "../components/MastodonIcon.astro";
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<footer class="flex flex-col gap-3 py-8">
  <hr class="rainbow h-1" />
  <div
    class="flex flex-col text-xl sm:text-base sm:flex-row gap-x-8 gap-y-3 items-center justify-center"
  >
    <a
      href={`${import.meta.env.BASE_URL}/${lang}/site-notice`}
      class="hover:underline transition"
    >
      {t("nav.site-notice")}
    </a>
    <a
      href={`${import.meta.env.BASE_URL}/${lang}/privacy-policy`}
      class="hover:underline transition"
    >
      {t("nav.privacy-policy")}
    </a>

    <a
      href="https://github.com/CTreffOS/ctreffos-website-astro"
      class="hover:underline transition">Source</a
    >
  </div>

  <div class="flex gap-6 justify-center">
    <a
      href="https://chaos.social/@chaostreff_osnabrueck"
      rel="me"
      target="_blank"
      class="transition hover:scale-110"
      aria-label="Mastodon"
      title="Mastodon"
    >
      <MastodonIcon />
    </a>
    <a
      href="https://github.com/CTreffOS"
      rel="noreferer"
      target="_blank"
      class="transition hover:scale-110"
      aria-label="GitHub"
      title="GitHub"
    >
      <GithubIcon />
    </a>
    <a
      href={`${import.meta.env.BASE_URL}/${lang}/rss.xml`}
      rel="noreferer"
      target="_blank"
      class="transition hover:scale-110"
      aria-label="RSS"
      title="RSS"
    >
      <RssIcon />
    </a>
    <a
      href={`${import.meta.env.BASE_URL}/${lang}/calendar.ics`}
      rel="noreferer"
      target="_blank"
      class="transition hover:scale-110"
      aria-label="ical Calendar"
      title="ical Calendar"
    >
      <CalendarIcon />
    </a>
  </div>
</footer>
